{"version":3,"file":"index.esm.js","sources":["../node_modules/tslib/tslib.es6.js","../src/VisionScanner.tsx"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","\"use client\";\n\nimport { useRef, useEffect, useState, useCallback } from \"react\";\nimport { VisionScannerProps } from \"./types\";\nimport \"./styles.css\";\n\nexport const VisionScanner = ({\n  onCapture,\n  facingMode = \"environment\",\n  onError = () => {},\n  resolution = { width: 640, height: 480 },\n}: VisionScannerProps) => {\n  // Refs\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const edgeCanvasRef = useRef<HTMLCanvasElement>(null);\n  const adjustmentCanvasRef = useRef<HTMLCanvasElement>(null);\n  const cvRef = useRef<any>(null);\n  const animationFrameRef = useRef<number | null>(null);\n  const streamRef = useRef<MediaStream | null>(null);\n  const processingRef = useRef<boolean>(false);\n  const lastProcessTimeRef = useRef<number>(0);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const capturedImageRef = useRef<HTMLImageElement | null>(null);\n  const cornerCacheRef = useRef<{ x: number, y: number }[] | null>(null);\n  const orientationRef = useRef<string>(\"portrait\");\n  const resizeObserverRef = useRef<ResizeObserver | null>(null);\n  \n  // State\n  const [isCameraReady, setIsCameraReady] = useState(false);\n  const [cameraCount, setCameraCount] = useState(0);\n  const [currentFacingMode, setCurrentFacingMode] = useState(facingMode);\n  const [hasTorch, setHasTorch] = useState(false);\n  const [torchOn, setTorchOn] = useState(false);\n  const [isOpenCVReady, setIsOpenCVReady] = useState(false);\n  const [isEdgeDetectionActive, setIsEdgeDetectionActive] = useState(true);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isEmbedded, setIsEmbedded] = useState(true);\n  const [documentCorners, setDocumentCorners] = useState<{ x: number, y: number }[] | null>(null);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const [permissionDenied, setPermissionDenied] = useState(false);\n  \n  // Edge adjustment mode - separate from the camera state\n  const [isAdjustmentMode, setIsAdjustmentMode] = useState(false);\n  const [capturedImage, setCapturedImage] = useState<string | null>(null);\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [adjustedCorners, setAdjustedCorners] = useState<{ x: number, y: number }[] | null>(null);\n  const [activeCornerIndex, setActiveCornerIndex] = useState<number | null>(null);\n  const [isDragging, setIsDragging] = useState(false);\n\n  // Error handling wrapper\n  const handleError = useCallback((message: string) => {\n    console.error(message);\n    setErrorMessage(message);\n    onError(message);\n  }, [onError]);\n\n  // Stop stream\n  const stopStreamInternal = useCallback(() => {\n    if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n      animationFrameRef.current = null;\n    }\n    \n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach(track => track.stop());\n      streamRef.current = null;\n    }\n  }, []);\n\n  // Detect screen orientation changes\n  useEffect(() => {\n    const handleOrientationChange = () => {\n      const isPortrait = window.innerHeight > window.innerWidth;\n      orientationRef.current = isPortrait ? \"portrait\" : \"landscape\";\n      \n      // Reset corner cache on orientation change to force recalculation\n      cornerCacheRef.current = null;\n      \n      // If camera is ready, we need to adjust canvas dimensions\n      if (videoRef.current && edgeCanvasRef.current && isCameraReady) {\n        const video = videoRef.current;\n        const canvas = edgeCanvasRef.current;\n        \n        // Ensure canvas matches video dimensions after orientation change\n        setTimeout(() => {\n          if (video && canvas) {\n            canvas.width = video.videoWidth;\n            canvas.height = video.videoHeight;\n          }\n        }, 300); // Short delay to allow video dimensions to update\n      }\n    };\n    \n    window.addEventListener('resize', handleOrientationChange);\n    // Set initial orientation\n    handleOrientationChange();\n    \n    return () => {\n      window.removeEventListener('resize', handleOrientationChange);\n    };\n  }, [isCameraReady]);\n\n  // Monitor container dimensions with ResizeObserver\n  useEffect(() => {\n    if (typeof ResizeObserver === 'undefined' || !containerRef.current) return;\n    \n    resizeObserverRef.current = new ResizeObserver(entries => {\n      if (!entries[0]) return;\n      \n      const containerWidth = entries[0].contentRect.width;\n      const containerHeight = entries[0].contentRect.height;\n      \n      // Check if container dimensions change significantly\n      if (cornerCacheRef.current && (containerWidth < 300 || containerHeight < 300)) {\n        // Reset corner cache if container becomes too small\n        cornerCacheRef.current = null;\n      }\n    });\n    \n    resizeObserverRef.current.observe(containerRef.current);\n    \n    return () => {\n      if (resizeObserverRef.current) {\n        resizeObserverRef.current.disconnect();\n      }\n    };\n  }, []);\n\n  // Load OpenCV.js with improved error handling\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    \n    // @ts-ignore\n    if (window.cv) {\n      // @ts-ignore\n      cvRef.current = window.cv;\n      setIsOpenCVReady(true);\n      return;\n    }\n    \n    if (!document.getElementById('opencv-script')) {\n      const script = document.createElement('script');\n      script.id = 'opencv-script';\n      script.src = 'https://docs.opencv.org/4.7.0/opencv.js';\n      script.async = true;\n      \n      // Track loading time\n      const startTime = Date.now();\n      const timeoutLimit = 15000; // 15 seconds timeout\n      \n      const loadingTimeout = setTimeout(() => {\n        handleError(\"Computer vision library taking too long to load. Please check your connection and try again.\");\n      }, timeoutLimit);\n      \n      script.onload = () => {\n        clearTimeout(loadingTimeout);\n        \n        const checkInterval = setInterval(() => {\n          // @ts-ignore\n          if (window.cv) {\n            clearInterval(checkInterval);\n            // @ts-ignore\n            cvRef.current = window.cv;\n            setIsOpenCVReady(true);\n            console.log(`OpenCV loaded in ${Date.now() - startTime}ms`);\n          } else if (Date.now() - startTime > timeoutLimit) {\n            clearInterval(checkInterval);\n            handleError(\"Failed to initialize computer vision library\");\n          }\n        }, 100);\n        \n        // Safety cleanup after 20 seconds\n        setTimeout(() => clearInterval(checkInterval), 20000);\n      };\n      \n      script.onerror = () => {\n        clearTimeout(loadingTimeout);\n        handleError(\"Failed to load computer vision library. Please check your connection and try again.\");\n      };\n      \n      document.body.appendChild(script);\n    }\n    \n    return () => {\n      stopStreamInternal();\n    };\n  }, [handleError, stopStreamInternal]);\n\n  // Camera management\n  const stopStream = useCallback(() => {\n    stopStreamInternal();\n    setIsCameraReady(false);\n  }, [stopStreamInternal]);\n\n  const enumerateCameras = useCallback(async () => {\n    if (!navigator.mediaDevices?.enumerateDevices) {\n      setCameraCount(0);\n      return;\n    }\n    \n    try {\n      const devices = await navigator.mediaDevices.enumerateDevices();\n      const videoDevices = devices.filter(device => device.kind === \"videoinput\");\n      setCameraCount(videoDevices.length);\n    } catch (err: any) {\n      console.error(\"Camera enumeration error:\", err);\n      setCameraCount(0);\n    }\n  }, []);\n\n  const initCamera = useCallback(async () => {\n    if (typeof window === 'undefined') return;\n    \n    // Reset error states\n    setErrorMessage(null);\n    setPermissionDenied(false);\n    \n    if (!navigator.mediaDevices?.getUserMedia) {\n      handleError(\"Camera not supported in this browser\");\n      setIsLoading(false);\n      return;\n    }\n    \n    try {\n      setIsLoading(true);\n      stopStreamInternal();\n      \n      const constraints = {\n        video: {\n          facingMode: currentFacingMode,\n          width: { ideal: 1280 },\n          height: { ideal: 720 },\n        },\n      };\n      \n      const newStream = await navigator.mediaDevices.getUserMedia(constraints);\n      streamRef.current = newStream;\n      \n      if (videoRef.current) {\n        videoRef.current.srcObject = newStream;\n        \n        videoRef.current.onloadedmetadata = async () => {\n          try {\n            if (videoRef.current) {\n              await videoRef.current.play();\n              setIsCameraReady(true);\n              setIsLoading(false);\n              \n              const track = newStream.getVideoTracks()[0];\n              const capabilities = track.getCapabilities();\n              setHasTorch(capabilities && \"torch\" in capabilities);\n              \n              enumerateCameras();\n            }\n          } catch (err: any) {\n            handleError(`Video playback failed: ${err.message}`);\n            setIsLoading(false);\n          }\n        };\n      }\n    } catch (err: any) {\n      if (err.name === 'NotAllowedError' || err.name === 'PermissionDeniedError') {\n        setPermissionDenied(true);\n        handleError(\"Camera access denied. Please allow camera access to use the document scanner.\");\n      } else {\n        handleError(`Camera access error: ${err.message}`);\n      }\n      setIsLoading(false);\n    }\n  }, [currentFacingMode, enumerateCameras, handleError, stopStreamInternal]);\n\n  // Optimized document detection with improvements\n  const detectDocumentCorners = useCallback((src: any, cv: any, width: number, height: number): { x: number, y: number }[] | null => {\n    try {\n      // Use cornerCacheRef to stabilize detection between frames\n      // Only recalculate corners if we don't have cached corners or every 3rd frame\n      if (cornerCacheRef.current && lastProcessTimeRef.current % 3 !== 0) {\n        return cornerCacheRef.current;\n      }\n      \n      const gray = new cv.Mat();\n      const edges = new cv.Mat();\n      const contours = new cv.MatVector();\n      const hierarchy = new cv.Mat();\n      \n      try {\n        // Pre-process the image\n        cv.cvtColor(src, gray, cv.COLOR_RGBA2GRAY);\n        cv.GaussianBlur(gray, gray, new cv.Size(5, 5), 0);\n        \n        // Adaptive threshold parameters based on image size\n        const cannyThresholdLow = Math.min(30, width * height / 80000);\n        const cannyThresholdHigh = Math.min(200, width * height / 12000);\n        \n        cv.Canny(gray, edges, cannyThresholdLow, cannyThresholdHigh);\n        \n        // Find contours\n        cv.findContours(edges, contours, hierarchy, cv.RETR_LIST, cv.CHAIN_APPROX_SIMPLE);\n        \n        let bestCorners = null;\n        let maxScore = 0;\n        const minArea = width * height * 0.05;\n        \n        // Process largest contours first\n        const contourInfo = [];\n        for (let i = 0; i < contours.size(); i++) {\n          const contour = contours.get(i);\n          const area = cv.contourArea(contour);\n          if (area > minArea) {\n            contourInfo.push({ index: i, area });\n          }\n        }\n        \n        // Sort by area, largest first\n        contourInfo.sort((a, b) => b.area - a.area);\n        \n        // Only check top contours\n        const contoursToCheck = Math.min(8, contourInfo.length);\n        \n        for (let i = 0; i < contoursToCheck; i++) {\n          const { index, area } = contourInfo[i];\n          const contour = contours.get(index);\n          const perimeter = cv.arcLength(contour, true);\n          \n          // Adjust epsilon factors based on screen orientation\n          const epsilons = orientationRef.current === \"portrait\" \n            ? [0.02, 0.03, 0.04] \n            : [0.03, 0.04, 0.05]; // Slightly larger epsilon for landscape\n          \n          for (const epsilonFactor of epsilons) {\n            const epsilon = epsilonFactor * perimeter;\n            const approx = new cv.Mat();\n            cv.approxPolyDP(contour, approx, epsilon, true);\n            \n            // Check if it's a quadrilateral\n            if (approx.rows === 4) {\n              // Convert to corner points\n              const corners = [];\n              for (let j = 0; j < 4; j++) {\n                corners.push({\n                  x: approx.data32S[j * 2],\n                  y: approx.data32S[j * 2 + 1]\n                });\n              }\n              \n              // Calculate score based on multiple factors\n              const isConvex = cv.isContourConvex(approx);\n              if (!isConvex) {\n                approx.delete();\n                continue;\n              }\n              \n              // Calculate aspect ratio score\n              const maxX = Math.max(...corners.map(c => c.x));\n              const minX = Math.min(...corners.map(c => c.x));\n              const maxY = Math.max(...corners.map(c => c.y));\n              const minY = Math.min(...corners.map(c => c.y));\n              \n              const aspectRatio = (maxX - minX) / (maxY - minY);\n              \n              // Different aspect ratio ranges for portrait vs landscape\n              let aspectScore = 1.0;\n              if (orientationRef.current === \"portrait\") {\n                // In portrait mode, prefer taller documents (0.5-1.3)\n                aspectScore = (aspectRatio >= 0.5 && aspectRatio <= 1.3) ? 1.0 : \n                              (aspectRatio > 1.3 && aspectRatio <= 2.0) ? 0.6 : 0.3;\n              } else {\n                // In landscape mode, prefer wider documents (0.8-2.0)\n                aspectScore = (aspectRatio >= 0.8 && aspectRatio <= 2.0) ? 1.0 :\n                              (aspectRatio >= 0.5 && aspectRatio < 0.8) ? 0.7 : 0.3;\n              }\n              \n              // Calculate distance from center\n              const centerX = width / 2;\n              const centerY = height / 2;\n              const cornersCenterX = corners.reduce((sum, c) => sum + c.x, 0) / 4;\n              const cornersCenterY = corners.reduce((sum, c) => sum + c.y, 0) / 4;\n              \n              // Normalized distance (0-1) from center of frame\n              const distanceFromCenter = Math.sqrt(\n                Math.pow((cornersCenterX - centerX) / width, 2) + \n                Math.pow((cornersCenterY - centerY) / height, 2)\n              );\n              \n              // Prefer contours near center\n              const centerScore = 1.0 - Math.min(distanceFromCenter, 0.5) * 2;\n              \n              // Size score: prefer contours that use a significant portion of the view\n              const sizeScore = Math.min(area / (width * height * 0.9), 1.0);\n              \n              // Combined score\n              const totalScore = (\n                aspectScore * 0.3 + \n                centerScore * 0.3 + \n                sizeScore * 0.4\n              ) * area; // Weight by area to prefer larger contours\n              \n              if (totalScore > maxScore) {\n                maxScore = totalScore;\n                \n                // Sort corners: top-left, top-right, bottom-right, bottom-left\n                corners.sort((a, b) => a.y - b.y); // Sort by y first\n                \n                // Get top and bottom pairs\n                const topTwo = corners.slice(0, 2);\n                const bottomTwo = corners.slice(2, 4);\n                \n                // Sort top pair by x\n                topTwo.sort((a, b) => a.x - b.x);\n                // Sort bottom pair by x\n                bottomTwo.sort((a, b) => a.x - b.x);\n                \n                bestCorners = [topTwo[0], topTwo[1], bottomTwo[1], bottomTwo[0]];\n              }\n            }\n            \n            approx.delete();\n          }\n        }\n        \n        // Update corner cache\n        if (bestCorners) {\n          cornerCacheRef.current = bestCorners;\n        } else if (lastProcessTimeRef.current % 10 === 0) {\n          // Every 10th frame, if no corners found, clear cache to avoid stale corners\n          cornerCacheRef.current = null;\n        }\n        \n        return bestCorners;\n      } finally {\n        // Ensure cleanup happens even if processing fails\n        gray.delete();\n        edges.delete();\n        contours.delete();\n        hierarchy.delete();\n      }\n    } catch (err) {\n      console.error(\"Document detection error:\", err);\n      return cornerCacheRef.current; // Return last good corners if there's an error\n    }\n  }, []);\n\n  // Process video frames with improved stability and reliability\n  const processFrame = useCallback(() => {\n    if (!videoRef.current || !edgeCanvasRef.current || !cvRef.current || !isCameraReady || !isOpenCVReady) {\n      if (isEdgeDetectionActive) {\n        animationFrameRef.current = requestAnimationFrame(processFrame);\n      }\n      return;\n    }\n    \n    // Throttle processing - dynamic rate based on device capability\n    const now = performance.now();\n    const timeSinceLastProcess = now - lastProcessTimeRef.current;\n    \n    // Aim for maximum 15fps on all devices to balance performance and battery\n    if (timeSinceLastProcess < 66) { // ~15fps\n      animationFrameRef.current = requestAnimationFrame(processFrame);\n      return;\n    }\n    \n    // Prevent concurrent processing\n    if (processingRef.current) {\n      animationFrameRef.current = requestAnimationFrame(processFrame);\n      return;\n    }\n    \n    processingRef.current = true;\n    lastProcessTimeRef.current = now;\n    \n    const cv = cvRef.current;\n    const video = videoRef.current;\n    const edgeCanvas = edgeCanvasRef.current;\n    \n    try {\n      // Set canvas size to match video\n      const width = video.videoWidth;\n      const height = video.videoHeight;\n      \n      if (!width || !height) {\n        // Skip this frame if video dimensions aren't available\n        processingRef.current = false;\n        animationFrameRef.current = requestAnimationFrame(processFrame);\n        return;\n      }\n      \n      if (edgeCanvas.width !== width || edgeCanvas.height !== height) {\n        edgeCanvas.width = width;\n        edgeCanvas.height = height;\n      }\n      \n      const ctx = edgeCanvas.getContext('2d');\n      if (!ctx) {\n        processingRef.current = false;\n        animationFrameRef.current = requestAnimationFrame(processFrame);\n        return;\n      }\n      \n      // Clear previous drawings\n      ctx.clearRect(0, 0, width, height);\n      \n      // Draw current frame to canvas\n      ctx.drawImage(video, 0, 0, width, height);\n      \n      // Get the image data\n      const imageData = ctx.getImageData(0, 0, width, height);\n      const src = cv.matFromImageData(imageData);\n      \n      // Detect document corners\n      const corners = detectDocumentCorners(src, cv, width, height);\n      \n      // If corners were found, draw overlay\n      if (corners && corners.length === 4) {\n        // Draw semi-transparent yellow quad\n        ctx.beginPath();\n        ctx.moveTo(corners[0].x, corners[0].y);\n        ctx.lineTo(corners[1].x, corners[1].y);\n        ctx.lineTo(corners[2].x, corners[2].y);\n        ctx.lineTo(corners[3].x, corners[3].y);\n        ctx.closePath();\n        ctx.fillStyle = 'rgba(255, 255, 0, 0.25)';\n        ctx.fill();\n        \n        // Draw solid yellow border\n        ctx.beginPath();\n        ctx.moveTo(corners[0].x, corners[0].y);\n        ctx.lineTo(corners[1].x, corners[1].y);\n        ctx.lineTo(corners[2].x, corners[2].y);\n        ctx.lineTo(corners[3].x, corners[3].y);\n        ctx.closePath();\n        ctx.strokeStyle = '#FFCC00';\n        ctx.lineWidth = 3;\n        ctx.stroke();\n        \n        // Draw corner dots\n        ctx.fillStyle = '#FFCC00';\n        corners.forEach(corner => {\n          ctx.beginPath();\n          ctx.arc(corner.x, corner.y, 6, 0, 2 * Math.PI);\n          ctx.fill();\n        });\n        \n        // Only update state if corners have changed significantly\n        // This reduces state updates and re-renders\n        if (!documentCorners || hasCornersMoved(corners, documentCorners)) {\n          setDocumentCorners(corners);\n        }\n      } else if (documentCorners && !corners) {\n        // Only clear corners state if we've lost detection for several frames\n        if (!cornerCacheRef.current) {\n          setDocumentCorners(null);\n        }\n      }\n      \n      // Clean up\n      src.delete();\n    } catch (err) {\n      console.error(\"Frame processing error:\", err);\n    } finally {\n      processingRef.current = false;\n      \n      if (isEdgeDetectionActive) {\n        animationFrameRef.current = requestAnimationFrame(processFrame);\n      }\n    }\n  }, [isEdgeDetectionActive, isCameraReady, isOpenCVReady, documentCorners, detectDocumentCorners]);\n\n  // Helper to determine if corners have moved significantly\n  const hasCornersMoved = (corners1: {x: number, y: number}[], corners2: {x: number, y: number}[]) => {\n    if (!corners1 || !corners2 || corners1.length !== corners2.length) {\n      return true;\n    }\n    \n    // Calculate average movement distance\n    let totalDistance = 0;\n    for (let i = 0; i < corners1.length; i++) {\n      const dx = corners1[i].x - corners2[i].x;\n      const dy = corners1[i].y - corners2[i].y;\n      totalDistance += Math.sqrt(dx * dx + dy * dy);\n    }\n    \n    // Only consider it moved if average movement > 5 pixels\n    return (totalDistance / corners1.length) > 5;\n  };\n\n  // Initialize camera\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      // Check if browser supports getUserMedia\n      if (!navigator.mediaDevices?.getUserMedia) {\n        handleError(\"Camera access not supported in this browser\");\n        return;\n      }\n      \n      initCamera();\n    }\n    \n    return () => {\n      stopStreamInternal();\n    };\n  }, [currentFacingMode, initCamera, stopStreamInternal, handleError]);\n\n  // Handle edge detection toggle\n  useEffect(() => {\n    if (isEdgeDetectionActive) {\n      if (!animationFrameRef.current && isOpenCVReady && isCameraReady) {\n        animationFrameRef.current = requestAnimationFrame(processFrame);\n      }\n    } else {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n        animationFrameRef.current = null;\n        \n        // Clear edge canvas\n        if (edgeCanvasRef.current) {\n          const ctx = edgeCanvasRef.current.getContext('2d');\n          if (ctx) {\n            ctx.clearRect(0, 0, edgeCanvasRef.current.width, edgeCanvasRef.current.height);\n          }\n        }\n        \n        // Clear document corners when edge detection is disabled\n        setDocumentCorners(null);\n        cornerCacheRef.current = null;\n      }\n    }\n    \n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n        animationFrameRef.current = null;\n      }\n    };\n  }, [isEdgeDetectionActive, isOpenCVReady, isCameraReady, processFrame]);\n\n  // Handle visibility changes to save battery\n  useEffect(() => {\n    const handleVisibilityChange = () => {\n      if (document.hidden) {\n        // Page is hidden, pause processing\n        if (animationFrameRef.current) {\n          cancelAnimationFrame(animationFrameRef.current);\n          animationFrameRef.current = null;\n        }\n      } else if (isEdgeDetectionActive && isOpenCVReady && isCameraReady) {\n        // Page is visible again, resume processing\n        if (!animationFrameRef.current) {\n          animationFrameRef.current = requestAnimationFrame(processFrame);\n        }\n      }\n    };\n    \n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    \n    return () => {\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n    };\n  }, [isEdgeDetectionActive, isOpenCVReady, isCameraReady, processFrame]);\n\n  // Set up adjustment canvas when entering adjustment mode\n  useEffect(() => {\n    if (isAdjustmentMode && capturedImage && adjustedCorners && adjustmentCanvasRef.current) {\n      const canvas = adjustmentCanvasRef.current;\n      const img = new Image();\n      \n      img.onload = () => {\n        // Store the image in ref to avoid re-renders\n        capturedImageRef.current = img;\n        \n        // Set canvas dimensions to match image\n        canvas.width = img.width;\n        canvas.height = img.height;\n        \n        // Draw initial image and overlay\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n          // Clear canvas\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          \n          // Draw image\n          ctx.drawImage(img, 0, 0);\n          \n          // Draw overlay with corners\n          drawAdjustmentOverlay(ctx, adjustedCorners);\n          \n          // Image is now loaded\n          setImageLoaded(true);\n        }\n      };\n      \n      img.onerror = () => {\n        handleError(\"Failed to load captured image for adjustment\");\n        resetAdjustmentMode();\n      };\n      \n      img.src = capturedImage;\n    }\n  }, [isAdjustmentMode, capturedImage, adjustedCorners, handleError]);\n\n  // Draw adjustment overlay\n  const drawAdjustmentOverlay = useCallback((ctx: CanvasRenderingContext2D, corners: {x: number, y: number}[]) => {\n    if (!ctx || !corners || corners.length !== 4) return;\n    \n    // Draw semi-transparent yellow quad\n    ctx.beginPath();\n    ctx.moveTo(corners[0].x, corners[0].y);\n    ctx.lineTo(corners[1].x, corners[1].y);\n    ctx.lineTo(corners[2].x, corners[2].y);\n    ctx.lineTo(corners[3].x, corners[3].y);\n    ctx.closePath();\n    ctx.fillStyle = 'rgba(255, 204, 0, 0.3)';\n    ctx.fill();\n    \n    // Draw solid yellow border\n    ctx.beginPath();\n    ctx.moveTo(corners[0].x, corners[0].y);\n    ctx.lineTo(corners[1].x, corners[1].y);\n    ctx.lineTo(corners[2].x, corners[2].y);\n    ctx.lineTo(corners[3].x, corners[3].y);\n    ctx.closePath();\n    ctx.strokeStyle = '#FFCC00';\n    ctx.lineWidth = 3;\n    ctx.stroke();\n    \n    // Draw corner handles\n    corners.forEach((corner, index) => {\n      ctx.beginPath();\n      ctx.arc(corner.x, corner.y, 12, 0, 2 * Math.PI);\n      ctx.fillStyle = index === activeCornerIndex ? '#FF4500' : '#FFCC00';\n      ctx.fill();\n      ctx.strokeStyle = 'white';\n      ctx.lineWidth = 2;\n      ctx.stroke();\n    });\n  }, [activeCornerIndex]);\n\n  // Initialize adjustment mode\n  const startAdjustment = useCallback((imageData: string, corners: {x: number, y: number}[]) => {\n    // Pause video processing\n    if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n      animationFrameRef.current = null;\n    }\n    \n    // Copy corners for adjustment\n    setAdjustedCorners([...corners]);\n    setCapturedImage(imageData);\n    setIsAdjustmentMode(true);\n  }, []);\n\n  // Handle pointer events for corner adjustment\n  const handlePointerDown = useCallback((e: React.PointerEvent) => {\n    if (!adjustedCorners || !adjustmentCanvasRef.current) return;\n    \n    const canvas = adjustmentCanvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const scaleX = canvas.width / rect.width;\n    const scaleY = canvas.height / rect.height;\n    const x = (e.clientX - rect.left) * scaleX;\n    const y = (e.clientY - rect.top) * scaleY;\n    \n    // Find closest corner\n    let minDistance = Number.MAX_VALUE;\n    let closestIndex = -1;\n    \n    adjustedCorners.forEach((corner, index) => {\n      const distance = Math.hypot(corner.x - x, corner.y - y);\n      if (distance < minDistance && distance < 30) {\n        minDistance = distance;\n        closestIndex = index;\n      }\n    });\n    \n    if (closestIndex !== -1) {\n      setActiveCornerIndex(closestIndex);\n      setIsDragging(true);\n      \n      // Capture pointer\n      canvas.setPointerCapture(e.pointerId);\n    }\n  }, [adjustedCorners]);\n\n  const handlePointerMove = useCallback((e: React.PointerEvent) => {\n    if (!isDragging || activeCornerIndex === null || !adjustedCorners || !adjustmentCanvasRef.current) return;\n    \n    const canvas = adjustmentCanvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const scaleX = canvas.width / rect.width;\n    const scaleY = canvas.height / rect.height;\n    const x = Math.max(0, Math.min(canvas.width, (e.clientX - rect.left) * scaleX));\n    const y = Math.max(0, Math.min(canvas.height, (e.clientY - rect.top) * scaleY));\n    \n    // Update corner position\n    const newCorners = [...adjustedCorners];\n    newCorners[activeCornerIndex] = { x, y };\n    setAdjustedCorners(newCorners);\n    \n    // Redraw\n    const ctx = canvas.getContext('2d');\n    if (ctx && capturedImageRef.current) {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.drawImage(capturedImageRef.current, 0, 0);\n      drawAdjustmentOverlay(ctx, newCorners);\n    }\n  }, [isDragging, activeCornerIndex, adjustedCorners, drawAdjustmentOverlay]);\n\n  const handlePointerUp = useCallback((e: React.PointerEvent) => {\n    if (!isDragging || !adjustmentCanvasRef.current) return;\n    \n    setIsDragging(false);\n    setActiveCornerIndex(null);\n    \n    // Release pointer\n    adjustmentCanvasRef.current.releasePointerCapture(e.pointerId);\n  }, [isDragging]);\n\n  // UI action handlers\n  const switchCamera = useCallback(() => {\n    stopStream();\n    setCurrentFacingMode(prev => (prev === \"environment\" ? \"user\" : \"environment\"));\n  }, [stopStream]);\n\n  const toggleTorch = useCallback(() => {\n    if (hasTorch && streamRef.current) {\n      const track = streamRef.current.getVideoTracks()[0];\n      const newTorchState = !torchOn;\n      track\n        .applyConstraints({ advanced: [{ torch: newTorchState }] as any })\n        .then(() => setTorchOn(newTorchState))\n        .catch(err => handleError(`Torch toggle failed: ${err.message}`));\n    }\n  }, [hasTorch, handleError, torchOn]);\n\n  const toggleEdgeDetection = useCallback(() => {\n    setIsEdgeDetectionActive(prev => !prev);\n  }, []);\n\n  const toggleViewMode = useCallback(() => {\n    setIsEmbedded(prev => !prev);\n  }, []);\n\n  // Retry camera access after permission denial\n  const retryCamera = useCallback(() => {\n    setPermissionDenied(false);\n    setErrorMessage(null);\n    initCamera();\n  }, [initCamera]);\n\n  // Save adjusted document\n  const confirmAdjustedDocument = useCallback(() => {\n    if (!capturedImage || !adjustedCorners || !cvRef.current || !adjustmentCanvasRef.current) return;\n    \n    try {\n      const cv = cvRef.current;\n      const canvas = adjustmentCanvasRef.current;\n      \n      // Get image data\n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      \n      const imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n      const src = cv.matFromImageData(imgData);\n      \n      // Source points (adjusted corners)\n      const srcPoints = cv.matFromArray(4, 1, cv.CV_32FC2, [\n        adjustedCorners[0].x, adjustedCorners[0].y,\n        adjustedCorners[1].x, adjustedCorners[1].y,\n        adjustedCorners[2].x, adjustedCorners[2].y,\n        adjustedCorners[3].x, adjustedCorners[3].y\n      ]);\n      \n      // Calculate dimensions of output document\n      const width = Math.max(\n        Math.hypot(adjustedCorners[1].x - adjustedCorners[0].x, adjustedCorners[1].y - adjustedCorners[0].y),\n        Math.hypot(adjustedCorners[2].x - adjustedCorners[3].x, adjustedCorners[2].y - adjustedCorners[3].y)\n      );\n      \n      const height = Math.max(\n        Math.hypot(adjustedCorners[3].x - adjustedCorners[0].x, adjustedCorners[3].y - adjustedCorners[0].y),\n        Math.hypot(adjustedCorners[2].x - adjustedCorners[1].x, adjustedCorners[2].y - adjustedCorners[1].y)\n      );\n      \n      const maxWidth = Math.ceil(width);\n      const maxHeight = Math.ceil(height);\n      \n      // Destination points (rectangle)\n      const dstPoints = cv.matFromArray(4, 1, cv.CV_32FC2, [\n        0, 0,\n        maxWidth - 1, 0,\n        maxWidth - 1, maxHeight - 1,\n        0, maxHeight - 1\n      ]);\n      \n      // Apply perspective transform\n      const M = cv.getPerspectiveTransform(srcPoints, dstPoints);\n      const dst = new cv.Mat();\n      cv.warpPerspective(src, dst, M, new cv.Size(maxWidth, maxHeight));\n      \n      // Create output canvas\n      const outputCanvas = document.createElement('canvas');\n      outputCanvas.width = maxWidth;\n      outputCanvas.height = maxHeight;\n      cv.imshow(outputCanvas, dst);\n      \n      // Get final image data\n      const finalImageData = outputCanvas.toDataURL(\"image/jpeg\", 0.92);\n      \n      // Clean up\n      src.delete();\n      dst.delete();\n      srcPoints.delete();\n      dstPoints.delete();\n      M.delete();\n      \n      // Reset adjustment mode\n      resetAdjustmentMode();\n      \n      // Pass the corrected image to parent\n      onCapture(finalImageData);\n    } catch (err) {\n      console.error(\"Error processing adjusted document:\", err);\n      handleError(\"Failed to process the document. Please try again.\");\n      resetAdjustmentMode();\n    }\n  }, [capturedImage, adjustedCorners, onCapture, handleError]);\n\n  // Cancel adjustment and return to camera\n  const cancelAdjustment = useCallback(() => {\n    resetAdjustmentMode();\n  }, []);\n\n  // Reset adjustment mode state\n  const resetAdjustmentMode = useCallback(() => {\n    setIsAdjustmentMode(false);\n    setCapturedImage(null);\n    setAdjustedCorners(null);\n    setImageLoaded(false);\n    capturedImageRef.current = null;\n    \n    // Resume video processing\n    if (isEdgeDetectionActive && isOpenCVReady && isCameraReady) {\n      animationFrameRef.current = requestAnimationFrame(processFrame);\n    }\n  }, [isEdgeDetectionActive, isOpenCVReady, isCameraReady, processFrame]);\n\n  // Capture image\n  const capture = useCallback(() => {\n    if (!isCameraReady || !videoRef.current || !canvasRef.current) return;\n\n    // Flash animation\n    if (edgeCanvasRef.current) {\n      const flashCtx = edgeCanvasRef.current.getContext('2d');\n      if (flashCtx) {\n        const { width, height } = edgeCanvasRef.current;\n        flashCtx.fillStyle = 'rgba(255, 255, 255, 0.5)';\n        flashCtx.fillRect(0, 0, width, height);\n        \n        setTimeout(() => {\n          if (edgeCanvasRef.current && flashCtx) {\n            flashCtx.clearRect(0, 0, width, height);\n          }\n        }, 300);\n      }\n    }\n\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    \n    // Set canvas dimensions to match video\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n\n    const context = canvas.getContext('2d');\n    if (!context) return;\n\n    // Capture current frame\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n    \n    // Get image data\n    const imageData = canvas.toDataURL(\"image/jpeg\", 0.92);\n    \n    // If document detected, enter adjustment mode\n    if (documentCorners && documentCorners.length === 4) {\n      startAdjustment(imageData, documentCorners);\n    } else {\n      // No document detected, just capture the full frame\n      onCapture(imageData);\n    }\n  }, [isCameraReady, documentCorners, startAdjustment, onCapture]);\n\n  return (\n    <div \n      ref={containerRef} \n      className={`vision-scanner ${isEmbedded ? 'embedded' : 'expanded'}`}\n    >\n      {permissionDenied ? (\n        <div className=\"vision-scanner-permission-denied\">\n          <div className=\"permission-message\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"48\" height=\"48\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n              <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n              <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"16\"></line>\n            </svg>\n            <h3>Camera Access Denied</h3>\n            <p>Please allow camera access in your browser settings to use the document scanner.</p>\n            <button onClick={retryCamera} className=\"retry-button\">Retry Camera Access</button>\n          </div>\n        </div>\n      ) : (\n        <>\n          {/* Camera View */}\n          {!isAdjustmentMode ? (\n            <>\n              <video \n                ref={videoRef} \n                autoPlay \n                playsInline \n                muted\n                className=\"vision-scanner-video\" \n              />\n              \n              <canvas \n                ref={canvasRef} \n                className=\"vision-scanner-canvas\" \n                style={{ display: 'none' }} \n              />\n              \n              <canvas \n                ref={edgeCanvasRef} \n                className=\"vision-scanner-edge-canvas\" \n              />\n              \n              {isLoading && (\n                <div className=\"vision-scanner-loading\">\n                  <div className=\"loading-spinner\"></div>\n                  <div className=\"loading-text\">Initializing camera...</div>\n                </div>\n              )}\n              \n              {errorMessage && !isLoading && !permissionDenied && (\n                <div className=\"vision-scanner-error\">\n                  <div className=\"error-message\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n                      <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n                      <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"16\"></line>\n                    </svg>\n                    {errorMessage}\n                  </div>\n                </div>\n              )}\n              \n              {isCameraReady && isOpenCVReady && isEdgeDetectionActive && !documentCorners && (\n                <div className=\"document-guide-overlay\">\n                  <div className=\"document-guide-corners\">\n                    <div className=\"corner top-left\"></div>\n                    <div className=\"corner top-right\"></div>\n                    <div className=\"corner bottom-right\"></div>\n                    <div className=\"corner bottom-left\"></div>\n                  </div>\n                  <div className=\"guide-text\">Position document within frame</div>\n                </div>\n              )}\n              \n              <div className=\"vision-scanner-controls\">\n                {/* Capture button */}\n                <button \n                  onClick={capture} \n                  className={`vision-scanner-capture-button ${documentCorners ? 'document-ready' : ''}`}\n                  disabled={!isCameraReady}\n                  aria-label=\"Capture\"\n                >\n                  <span className=\"vision-scanner-capture-button-inner\"></span>\n                </button>\n                \n                <div className=\"vision-scanner-secondary-controls\">\n                  <button \n                    onClick={toggleViewMode}\n                    className={`vision-scanner-icon-button ${!isEmbedded ? 'active-button' : ''}`}\n                    aria-label={isEmbedded ? \"Expand Camera\" : \"Minimize Camera\"}\n                  >\n                    {isEmbedded ? (\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                        <path d=\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\"/>\n                      </svg>\n                    ) : (\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                        <path d=\"M8 3v3a2 2 0 0 1-2 2H3M21 8h-3a2 2 0 0 1-2-2V3M3 16h3a2 2 0 0 1 2 2v3M16 21v-3a2 2 0 0 1 2-2h3\"/>\n                      </svg>\n                    )}\n                  </button>\n                  \n                  {cameraCount > 1 && (\n                    <button \n                      onClick={switchCamera}\n                      className=\"vision-scanner-icon-button\"\n                      aria-label=\"Switch Camera\"\n                    >\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                        <path d=\"M20 16v4a2 2 0 0 1-2 2h-4\"></path>\n                        <path d=\"M14 14l6 6\"></path>\n                        <path d=\"M4 8V4a2 2 0 0 1 2-2h4\"></path>\n                        <path d=\"M10 10L4 4\"></path>\n                      </svg>\n                    </button>\n                  )}\n                  \n                  {hasTorch && (\n                    <button \n                      onClick={toggleTorch}\n                      className={`vision-scanner-icon-button ${torchOn ? 'active-button' : ''}`}\n                      aria-label={torchOn ? \"Turn Off Light\" : \"Turn On Light\"}\n                    >\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                        <circle cx=\"12\" cy=\"12\" r=\"5\"></circle>\n                        <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"></line>\n                        <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"></line>\n                        <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"></line>\n                        <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"></line>\n                        <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"></line>\n                        <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"></line>\n                        <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"></line>\n                        <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"></line>\n                      </svg>\n                    </button>\n                  )}\n                  \n                  <button \n                    onClick={toggleEdgeDetection} \n                    disabled={!isCameraReady || !isOpenCVReady}\n                    className={`vision-scanner-icon-button ${isEdgeDetectionActive ? 'active-button' : ''}`}\n                    aria-label={isEdgeDetectionActive ? \"Hide Document Detection\" : \"Show Document Detection\"}\n                  >\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n                      <line x1=\"3\" y1=\"9\" x2=\"21\" y2=\"9\"></line>\n                      <line x1=\"9\" y1=\"21\" x2=\"9\" y2=\"9\"></line>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              \n              {!isOpenCVReady && isCameraReady && (\n                <div className=\"vision-scanner-status\">\n                  <div className=\"status-message\">Loading vision features...</div>\n                </div>\n              )}\n              \n              {documentCorners && (\n                <div className=\"vision-scanner-document-indicator\">\n                  <div className=\"document-ready-message\">Document detected</div>\n                </div>\n              )}\n            </>\n          ) : (\n            /* Adjustment Mode */\n            <div className=\"vision-scanner-adjustment-mode\">\n              <div className=\"adjustment-canvas-container\">\n                <canvas \n                  ref={adjustmentCanvasRef}\n                  className=\"vision-scanner-adjustment-canvas\"\n                  onPointerDown={handlePointerDown}\n                  onPointerMove={handlePointerMove}\n                  onPointerUp={handlePointerUp}\n                  onPointerCancel={handlePointerUp}\n                />\n                \n                {!imageLoaded && (\n                  <div className=\"loading-overlay\">\n                    <div className=\"loading-spinner\"></div>\n                    <div className=\"loading-text\">Preparing image...</div>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"adjustment-instructions\">\n                <div className=\"instruction-text\">Drag corners to adjust document edges</div>\n              </div>\n              \n              <div className=\"adjustment-controls\">\n                <button \n                  onClick={cancelAdjustment}\n                  className=\"adjustment-button cancel-button\"\n                >\n                  Cancel\n                </button>\n                <button \n                  onClick={confirmAdjustedDocument}\n                  className=\"adjustment-button confirm-button\"\n                  disabled={!imageLoaded}\n                >\n                  Save\n                </button>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};"],"names":["_jsx","_jsxs","_Fragment"],"mappings":"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","x_google_ignoreList":[0]}